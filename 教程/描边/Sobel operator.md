Sobel算子是一种经典的**边缘检测算法**，主要用于图像处理中提取图像的边缘信息。它通过计算图像中每个像素点的梯度幅值来检测灰度突变的区域（即边缘），从而定位物体的轮廓。
### 基本原理

- **梯度计算**：边缘对应图像灰度值的剧烈变化，梯度越大，越可能是边缘。
- **卷积核操作**：使用两个3×3的卷积核（水平核和垂直核）分别对图像进行卷积，计算水平和垂直方向的梯度。

Sobel算子的**水平核**和**垂直核**的设计结合了一阶微分（边缘检测）和高斯平滑（降噪）的思想，通过特定的权重分布来平衡边缘敏感性和抗噪能力。

#### 一阶微分：检测边缘

边缘的本质是图像灰度值的突变，数学上对应函数的**一阶导数极大值**。 以水平方向为例，计算像素点左右两侧的灰度差（近似一阶导数）：
$$G_x=右侧像素值−左侧像素值$$
对于离散图像，常用**中心差分法**计算水平梯度：  
$$G_{x}=f(x+1,y)-f(x-1,y)$$
对应的卷积核为：$$[-1 \quad 0 \quad 1]$$

同理，垂直方向梯度核为：
$$\begin{bmatrix}
-1 \\
0 \\
1\end{bmatrix}$$

#### 高斯平滑：抑制噪声

直接使用一阶微分对噪声敏感，因此需要引入**高斯平滑**。 高斯核的权重分布中间大、两侧小，例如一维高斯核：
$$\frac{1}{4} \begin{bmatrix} 1 & 2 & 1 \end{bmatrix}$$
其作用是对垂直方向（或水平方向）进行加权平均，减少噪声干扰。

#### Sobel核的合成

- **水平核（检测垂直边缘）**：
    垂直方向高斯平滑：$$\frac{1}{4} \begin{bmatrix}1 \\2 \\1\end{bmatrix}$$
	1. **水平方向一阶微分**：$$[-1 \quad 0 \quad 1]$$
	2. **合成后的水平核**（外积运算）：$$\frac{1}{4}\begin{bmatrix}1\\2\\1\end{bmatrix}\otimes \begin{bmatrix}-1&0&1\end{bmatrix}= \frac{1}{4}\begin{bmatrix}-1&0&1\\-2&0&2\\-1&0&1\end{bmatrix}$$
	3. 实际使用中常省略归一化系数（1/4），直接使用整数权重：$$\begin{bmatrix}-1&0&1\\-2&0&2\\-1&0&1\end{bmatrix}$$
- **垂直核（检测水平边缘）**： 同理，由**水平方向高斯平滑**和**垂直方向一阶微分**合成：$$\begin{bmatrix}-1 & -2 & -1 \\0 & 0 & 0 \\1 & 2 & 1\end{bmatrix}$$
### 计算步骤

1. **分别卷积**：用水平核和垂直核对图像进行卷积，得到水平梯度$G_x$​和垂直梯度$G_y$。
2. **计算梯度幅值**： $G = \sqrt{G_x^2 + G_y^2}$实际应用中为了简化计算，常用绝对值之和近似：$G = |G_x| + |G_y|$
3. **确定边缘方向**：$θ = arctan(\frac{G_x}{G_y})$边缘方向垂直于梯度方向。